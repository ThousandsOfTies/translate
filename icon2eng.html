<!DOCTYPE html>
<html lang="ja">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>ICON 2 English</title>
    <link rel="stylesheet" type="text/css" href="css/icons_translater.css" />
</head>

<body>
    <select id="voice-select1" />
    <input id="voice-test1" type="button" value="視聴" />
    <div id="working_root1" class="tray"></div>

    <select id="voice-select2" />
    <input id="voice-test2" type="button" value="視聴" />
    <div id="working_root2" class="tray"></div>
</body>
<script src="js/speech_synthesiser.js" charset="utf-8"></script>
<script src="js/icons_translater.js" charset="utf-8"></script>
<script>
    let ss1 = new SpeechSynthesiser('voice-select1');
    let it1 = new IconsTranslater('working_root1', (text) => {
        ss1.speak(text);
    });
    document.querySelector('#voice-select1').addEventListener('change', (ev) => {
        ss1.setVoice(ev.target.value);
    });
    document.querySelector('#voice-test1').addEventListener('click', () => {
        ss1.setVoice(document.querySelector('#voice-select1').value);
        ss1.speak("Hello, world!");
    });

    let ss2 = new SpeechSynthesiser('voice-select2');
    let it2 = new IconsTranslater('working_root2', (text) => {
        ss2.speak(text);
    });
    document.querySelector('#voice-select2').addEventListener('change', (ev) => {
        ss2.setVoice(ev.target.value);
    });
    document.querySelector('#voice-test2').addEventListener('click', () => {
        ss2.setVoice(document.querySelector('#voice-select2').value);
        ss2.speak("Hello, world!");
    });
</script>

</html>